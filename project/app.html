<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="app.css">
    <title>GeoEncoding</title>
    <link rel="icon" href="https://images.unsplash.com/photo-1492496913980-501348b61469?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D">
</head>
<body>
    <div class="div">
        <h2 style="color: rgb(190, 111, 111);">GeoEncoding</h2>
        <label for="latitude" class="latitude">Latitude</label>
        <input type="number" name="latitude" id="latitude" placeholder="latitude">
        <label for="longitude" class="longitude">Longitude</label>
        <input type="number" name="longitude" id="longitude" placeholder="longitude">
        <button onclick="result()">Get location</button>
        
        <div id="result" class="result"></div>
        <a href="https://github.com/utkarshshanu712?tab=repositories" target="_blank"><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Icon" style="width: 70px; height: 70px; border-radius: 50%; border: 2px solid rgb(74, 49, 108); transition: transform 0.2s;"></a>
        <style>
            a:hover img {
                transform: scale(1.7);
            }
        </style>
        <nav style="font-size: medium;">üöÄ Complete API built by me from scratch üöÄ</nav>
    </div>
     <h1>SAVE SOIL üåè SAVE EARTH</h1>
    <script>
        async function result() {
            const lat = parseFloat(document.getElementById('latitude').value);
            const long = parseFloat(document.getElementById('longitude').value);
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<img src="C:\\Users\\sanam\\OneDrive\\Desktop\\project\\Animation - 1734191839227.gif" alt="Fetching...">';

            if (isNaN(lat) || isNaN(long)) {
                resultDiv.textContent = 'Please enter valid numeric values for both latitude and longitude.';
                return;
            }

            try {
                const response = await fetch(`https://geo-api-61zy.onrender.com/find-state?lat=${lat}&long=${long}`);
                
                if (response.ok) {
                    const data = await response.json();

                    const location = data.location || "Unknown Location";
                    const distance = data.distance || "Unknown Distance";

                    resultDiv.textContent = `Location: ${location}`;
                } else {
                    resultDiv.textContent = `Error fetching data: ${response.statusText}`;
                }
            } catch (error) {
                resultDiv.textContent = `Error fetching data: ${error.message}`;
                console.error("Fetch error:", error);
            }
        }
    </script>
</body>
</html>
